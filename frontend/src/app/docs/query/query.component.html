<div class="container mt-5 response-container">
  <div *ngIf="documents.length > 0">
    <h2>Query Documents</h2>
    <form ngNativeValidate>
      <div>
        <label>Select Documents:</label>
        <ul class="mt-3">
          <li *ngFor="let doc of documents">
            <label class="mt-4">
              <input [checked]="doc.checked" type="checkbox" [value]="doc.id"
                (change)="onDocumentSelectionChange($event, doc.id)" />
              {{ doc.title }}
            </label>
          </li>
        </ul>
      </div>
      <div>
        <label for="queryText">Your Query:</label>
        <textarea class="rounded" name="queryText" id="queryText" [(ngModel)]="queryText"
          placeholder="Type your query here" rows="3" required></textarea>
      </div>
      <button *ngIf="!isLoading" class="rounded" type="button" (click)="sendQuery()">Submit Query</button>
    </form>
  </div>
  <div class="row justify-content-center">
    <button *ngIf="isLoading" class="mt-2 rounded bg-primary text-white" style="width: 98%;" type="button" disabled>

      <span class="spinner-border spinner-border-sm font-weight-bold p-1" role="status" aria-hidden="true">
      </span>
      Searching...
      <i class="bi bi-search-heart-fill h6"></i>
    </button>
  </div>
  <div *ngIf="response">
    <h3 class="mt-2">Response</h3>
    <p>{{ response }}</p>
  </div>
  <div *ngIf="documents.length < 1" class="alert alert-danger mt-3">
    {{ errorMessage }}
  </div>
  <div *ngIf="successMessage" class="alert alert-success mt-3">
    {{ successMessage }}
  </div>
</div>